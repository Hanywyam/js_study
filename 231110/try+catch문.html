<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>try+catch문</title>
  <style></style>
</head>

<body>
  <h1>try...catch문</h1>
  <p>프로그래밍에서 오류 처리를 위해 사용되는 문</p>
  <p>에러발생 시 값을 반환</p>
  <a href="https://yari-demos.prod.mdn.mozit.cloud/ko/docs/Web/JavaScript/Reference/Statements/try...catch"
    target="_blank">try...catch mdn</a>
  <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Control_flow_and_error_handling"
    target="_blank">MDN 제어 흐름과 오류 처리</a>
  <h2>throw 문</h2>
  <p>예외적인 상황에 사용</p>
  <ul>
    <li>
      <p>특정 타입의 표현식이 아니라 무엇이든 던질 수 있음</p>
      String, Number, Boolean, 객체...
    </li>
    <li>예외적인 상황이 생기면 진행을 중단하고 예외 처리하는 블록(console.error()영역)으로 이동하여 실행</li>
    <li><a
        href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Control_flow_and_error_handling#throw_%EB%AC%B8"
        target="_blank">예외 처리 명령문</a></li>
    <li> <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/throw" target="_blank">throw
        mdn</a></li>
  </ul>


  <h2>10보다 작은 숫자를 입력하세요</h2>
  <form name="wrapper">
    <input type="text" id="userName">
    <button type="submit">입력</button>
  </form>
  <h3 class="result"></h3>

  <script>
    const userName = document.querySelector("#userName");
    const result = document.querySelector(".result");
    const wrap = document.querySelector("[name=wrapper]");

    // form에 텍스트 필드의 값을 받아 
    // 숫자가 아닌 경우 숫자만 입력하세요 출력
    // 10보다 큰 값을 입력한 경우 '10보다 작은 숫자를 입력하세요'

    wrap.addEventListener("submit", evt => {
      evt.preventDefault();

      const userValue = userName.value;
      const num = Number(userValue);
      // console.log(userValue);

      try { // 실행구문
        if (userValue === "" || isNaN(num)) {
          throw `숫자만 입력하세요.`; // throw 문
        } else {
          if (num <= 10) {
            result.textContent = num;
          } else {
            throw `10보다 작은 숫자를 입력하세요`;
          }
        }
      } catch (err) { // 오류발생시 throw 값을 매개변수로 받아 처리
        // console.log(err);
        console.error(err); // 콘솔자체 에러확인 값 잇음.
      } finally { // 내용과 관계없이 항상 실행
        userName.value = '';
      }
    });











    /* 내가 해본 js

    wrap.addEventListener("submit", evt => {
      evt.preventDefault();

      let num = txt.value;
      num = Number(num);

      if (isNaN(num)) {
        result.textContent = `숫자만 입력하세요.`;
        return;
      } else if (num = 0; num > 10;) {
      result.textContent = `10보다 작은 숫자를 입력하세요`;
      return;
    } else {
      const sum = txt.value;
      result.textContent = `입력한 값은 ${sum} 입니다.`;
    }  
      }) */
  </script>
</body>

</html>