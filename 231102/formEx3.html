<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>formEx3</title>
  <style>
    .save-list {
      width: 60vw;
      padding: 0;
      list-style-position: inside;
    }

    .save-list li {
      display: flex;
      justify-content: space-between;
      border: 1px solid #000;
      background-color: #ddd;
      margin: 3px;
      padding: 4px 10px;
    }

    .save-list li .del-btn {
      background-color: #fff;
      border: 1px solid #000;
      border-radius: 2px;
    }

    .save-list li .del-btn:hover {
      background-color: #000;
      color: #fff;
    }

    button {
      cursor: pointer;
    }
  </style>
</head>

<body>
  <!-- 리액트 -> 클러드 : 크리에이트 위드 업데이트 딜리트 -->
  <div class="container">
    <form name="shoppingList" class="shopping-list">
      <fieldset>
        <legend>쇼핑리스트</legend>
        <label>제품명:
          <input type="text" name="itemName" id="item-name">
        </label>
        <button type="submit">저장</button>
        <button type="reset">취소</button>
      </fieldset>
    </form>
    <ul class="save-list">
      <!-- <li>
        <span class="list-text"></span>
        <button type="reset">삭제</button>
      </li>
      <li>tt</li> -->
    </ul>
  </div>

  <script>
    const shoppingList = document.forms.shoppingList;
    const itemName = shoppingList.elements.itemName;
    const saveList = document.querySelector('.save-list');

    shoppingList.addEventListener('submit', (evt) => {
      evt.preventDefault();

      const itemValue = itemName.value;

      if (itemValue) {

        // '저장' 클릭하면 입력한 값 list로 생성.
        // 방법 1
        saveList.innerHTML += `<li><span>${itemValue}</span><button class="del-btn">삭제</button></li>`;

        // 방법 2
        // const lists = document.createElement('li');
        // Lists.innerHTML += `<li><span>${itemValue}</span><button class="del-btn">삭제</button></li>`;
        // lists.appendChild(lists);

        // itemValue = '';
      } else {
        // 빈 내용을 입력하면 '내용을 입력하세요' 알림창
        alert('내용을 입력하세요');
      }

      // 리스트 제거 1 : 안에 작성
      const delBtn = document.querySelectorAll('.del-btn');

      delBtn.forEach(del => {
        del.addEventListener("click", evt => {
          // 요소 제거
          evt.target.parentNode.remove();
          // evt.target.closest('li').remove();
        })
      });
    });

    /*
        // 리스트 제거 2 : 밖에 작성
        saveList.addEventListener('click', evt => {
          const targetBtn = evt.target.classList.contains('del-btn');
          if (targetBtn) {
            // 현재 요소 포함 가장 가까운 조상 요소를 클릭
            evt.target.closest('li').remove();
          }
        })
    */
  </script>

  <!-- 내가 쓴 js
  <script>
    const itemName = document.querySelector('#item-name');
    const save = document.querySelector('[type=submit]');
    const listBox = document.querySelector('.save-list');
    const saveLi = document.querySelector('.save-list li');
    const listText = document.querySelector('.list-text');
    const reset = document.querySelector('.saveList [type=reset]');

    //innerHTML li추가 / 추가된 li 삭제
    save.addEventListener('click', (e) => {
      e.preventDefault();

      let btn = e.target;
      if (btn) {
        listText.textContent = itemName.value;
      } else {
        reset.addEventListener('click', (evt) => {
          saveLi.remove(evt.target);
        })
      }
    })
  </script>
   -->
</body>

</html>